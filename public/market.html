<!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width = device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<!-- Bootstrap -->
	<link rel="stylesheet" href="styles/bootstrap.min.css">
	<link rel="stylesheet" media="screen and (min-device-width: 800px)" href="styles/style.css">
	<link rel="stylesheet" media="screen and (max-device-width: 799px)" href="styles/mobile.css">
	<link rel="stylesheet" href="scripts/alertify_css/alertify_default.min.css" />
	<link rel="stylesheet" href="scripts/alertify_css/alertify_core.min.css" />
	<script type="text/javascript" src="scripts/jquery-1.11.1.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js" type="text/javascript"></script>
		<title>
			Sign-On Test
		</title>
	</head>
	<body>
		<script type="text/javascript">
			$(function(){
				if(!sessvars.sessionObj){
					$('#content').hide();
					alertify.confirm("Sorry! You do not have access to this page.", function(e){
						if(e){
							window.location.href = "/";
						}
						else{
							window.location.href = "/";
						}
					});
				}
				else{
					$("#email").text(sessvars.sessionObj.email);
					$("#email_link").text(sessvars.sessionObj.name);
				}
			});
		</script>
		<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="navbar-brand" href="/market">QBSE</a>
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
			            <span class="sr-only">Toggle navigation</span>
			            <span class="icon-bar"></span>
			            <span class="icon-bar"></span>
			            <span class="icon-bar"></span>
			        </button>
					<div id="navbar" class="navbar-collapse collapse">
						<ul class="nav navbar-nav">
							<li class="active"><a href="/market">Market</a></li>
						</ul>
						<p class="navbar-text navbar-right">Signed in as <a href="/myaccount" class="navbar-link" id="email_link"></a></p>
						<ul class="nav navbar-nav navbar-right">
							<li><button type="button" class="btn btn-default navbar-btn" onclick="logout()">Log Out</button></li>
						</ul>
					</div>
				</div>
			</div>
		</nav>
		<div class="container" ng-app="QBTemplate" ng-controller="QBCtrl">
			<div id="stocks"></div>
			<h4>
			<div id="sidebar-sub" class="col-md-2 hidden-xs hidden-sm hidden padTop">
				<ul class="main-menu nav nav-stacked affix">
		        	<li id="username"></li>
		        </ul>
			</div>
			<div id="sidebar-menu" class="col-md-2 hidden-xs hidden-sm hidden padTop"></div>
		    </h4>
		    <ul class="list-group">
					<h2>Tier 1</h2>
			        <div ng-repeat="qb in qbs | filter: {tier: 1}">
					    <a id={{qb.reference}} class="list-group-item" onclick="buyQB(this.id)">
						    <h5 class="list-group-item-heading">{{qb.$id}} <span class="label label-default pull-right">{{qb.price | currency}}</span></h5>
						    <p class="list-group-item-text">
						  		{{qb.displayInfo.yards}} yards, {{qb.displayInfo.TD}} TD, {{qb.displayInfo.INT}} INT, {{qb.displayInfo.Comp}}% 
						    </p>
					    </a>
				    </div>
			    </ul>
		    <ul class="list-group">
				<h2>Tier 2</h2>
		        <div ng-repeat="qb in qbs | filter: {tier: 2}">
				    <a id={{qb.reference}} class="list-group-item" onclick="buyQB(this.id)">
					    <h5 class="list-group-item-heading">{{qb.$id}} <span class="label label-default pull-right">${{qb.price}}</span></h5>
					    <p class="list-group-item-text">
					  		{{qb.displayInfo.yards}} yards, {{qb.displayInfo.TD}} TD, {{qb.displayInfo.INT}} INT, {{qb.displayInfo.Comp}}% 
					    </p>
				    </a>
			    </div>
		    </ul>
		    <ul class="list-group">
				<h2>Tier 3</h2>
		        <div ng-repeat="qb in qbs | filter: {tier: 3}">
				    <a id={{qb.reference}} class="list-group-item" onclick="buyQB(this.id)">
					    <h5 class="list-group-item-heading">{{qb.$id}} <span class="label label-default pull-right">${{qb.price}}</span></h5>
					    <p class="list-group-item-text">
					  		{{qb.displayInfo.yards}} yards, {{qb.displayInfo.TD}} TD, {{qb.displayInfo.INT}} INT, {{qb.displayInfo.Comp}}% 
					    </p>
				    </a>
			    </div>
		    </ul>
		    <ul class="list-group">
				<h2>Tier 4</h2>
		        <div ng-repeat="qb in qbs | filter: {tier: 4}">
				    <a id={{qb.reference}} class="list-group-item" onclick="buyQB(this.id)">
					    <h5 class="list-group-item-heading">{{qb.$id}} <span class="label label-default pull-right">${{qb.price}}</span></h5>
					    <p class="list-group-item-text">
					  		{{qb.displayInfo.yards}} yards, {{qb.displayInfo.TD}} TD, {{qb.displayInfo.INT}} INT, {{qb.displayInfo.Comp}}% 
					    </p>
				    </a>
			    </div>
		    </ul>
		</div>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
		<script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
		<script src="scripts/bootstrap.min.js"></script>
		<script src="scripts/handlebars.js"></script>
		<!-- Modules -->
    	<script src="scripts/app.js"></script>
    	<!-- Controllers -->
    	<script src="scripts/angularControllers/QBController.js"></script>
    	<script src="scripts/angularControllers/MainController.js"></script>
		<!-- Alertify -->
		<script type="text/javascript" src="scripts/alertify.min.js"></script>
		<!-- QBSE -->
		<script src="https://cdn.firebase.com/js/client/1.1.1/firebase.js"></script>
		<script type="text/javascript" src="scripts/sessvars.js"></script>
		<script type="text/javascript" src="scripts/sessionModule.js"></script>
		<script type="text/javascript" src="scripts/signon.js"></script>
		<script src="scripts/stockTemplate.js"></script>
	</body>
</html>